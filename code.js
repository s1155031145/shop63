// data in JSON format, possibly fetched over AJAX
var json_menu = {
    "categories": [
        {"name": "Movies & TV", "id": "01"},
        {"name": "Computer", "id": "02"},
        {"name": "Food", "id": "03"}
    ]
};

var json_movies_tv = {
	"category": "Movies & TV",
	"category_id": "01",
    "product_list": [
        {"name": "Big Hero 6 (Blu-ray + DVD + Digital HD) (Widescreen)", "id": "01, 01", "img":"k2-_c857d97a-4439-4f77-8c60-b7792322ffb2.v2.jpg", "price":"18.96", "description":"With all the heart and humor audiences expect from Walt Disney Animation Studios, \"Big Hero 6\" is an action-packed comedy adventure that introduces Baymax, a lovable, personal companion robot, who forms a special bond with robotics prodigy Hiro Hamada. When a devastating turn of events catapults them into the midst of a dangerous plot unfolding in the streets of San Fransokyo, Hiro turns to Baymax and his diverse group of friends - adrenaline junkie Go Go Tomago, neatnik Wasabi, chemistry whiz Honey Lemon and fanboy Fred - who transform into a band of unlikely heroes. Bring home Disney's \"Big Hero 6,\" featuring comic-book-style action and hilarious, unforgettable characters - it's fun for the whole family!."},
        {"name": "Maleficent (Blu-ray + DVD + Digital HD) (Widescreen)", "id": "01, 02", "img":"k2-_0c733e67-49c1-4e6b-9e2e-225be052b0d6.v3.jpg", "price":"23.96", "description":"Explore the untold story of Disney's most iconic villain in this wickedly fun twist on the classic \"Sleeping Beauty\". In an unforgiving mood after a neighboring kingdom threatens her forest, Maleficent (Angelina Jolie) places an irrevocable curse on the king's newborn daughter, the Princess Aurora. But as the child grows, Maleficent finds herself becoming fond of the girl. And as the conflict between the two realms intensifies, Maleficent realizes that Aurora may hold the key to peace in the land. Journey beyond the fairy tale in this soaring adventure that is \"visually arresting, brilliantly designed\" (Andrew Barker, \"Variety\")."},
        {"name": "Marvel: Guardians Of The Galaxy (Blu-ray) (Widescreen)", "id": "01, 03", "img":"k2-_061860e9-af37-44a6-a4c4-923dc4a6b53f.v2.jpg", "price":"21.96", "description":"From Marvel, the studio that brought you the global blockbuster franchises of \"Marvel\'s Iron Man\", \"Marvel\'s Thor\", \"Marvel\'s Captain America\" and \"Marvel\'s The Avengers\", comes an unlikely new team - the Guardians of the Galaxy. The Marvel Cinematic Universe expands into the cosmos when brash space adventurer Peter Quill steals a mysterious, all-powerful orb. Chased by relentless enemies, he forms an uneasy alliance with a ragtag band of misfits leading to a desperate battle that will decide the fate of the galaxy. Featuring amazing new characters and exclusive bonus features, this must-own blockbuster is your ticket to a wild thrill ride."},
		{"name": "Frozen Sing Along Edition", "id": "01, 04", "img":"k2-_2eed9e33-42df-4f65-8ff1-09952df1850a.v7.jpg", "price":"19.96", "description":"Experience \"Frozen\", the epic animated hit from Walt Disney Animation Studios, like never before in an all-new, full-length \"Sing-Along Edition!\" Join Anna as she sets off on an epic journey, teaming up with mountain man Kristoff and a snowman named Olaf, to find her sister Elsa, whose icy powers have trapped the kingdom in eternal winter. Relive the magic and majesty of this sparkling masterpiece as you sing along to all your favorite \"Frozen\" songs. It's pure enchantment - and full of fun for the entire family."},
		{"name": "Frozen (Blu-ray + DVD + Digital HD) (Widescreen)", "id": "01, 05", "img":"k2-_a596ee2c-82aa-4289-a9ce-f3ef7c7bfdfb.v3.jpg", "price":"24.74", "description":"Walt Disney Animation Studios presents a chilly twist on one of the most humorous and heartwarming stories ever told. \"Disney Animation\'s best since \'The Lion King\'\" (William Bibbiani, CraveOnline) will melt your heart. Fearless optimist Anna sets off on an epic journey - teaming up with rugged mountain man Kristoff and his loyal reindeer Sven - to find her sister Elsa, whose icy powers have trapped the kingdom of Arendelle in eternal winter. Encountering Everest-like conditions, mystical trolls and a hilarious snowman named Olaf, Anna and Kristoff battle the elements in a race to save the kingdom. Bring home \"Frozen\" on Blu-ray High Definition - featuring a blizzard of never-before-seen bonus extras with gorgeous animation, memorable characters and unforgettable music. It\'s dazzling fun for the whole family."},
		{"name": "Captain America: The Winter Soldier (3D Blu-ray + Blu-ray + Digital HD) (Widescreen)", "id": "01, 06", "img":"k2-_fffded68-adf7-46b7-ba02-115b65d760bf.v3.jpg", "price":"29.96", "description":"From the Studio that brought you the greatest Super Hero movie of all time, \"Marvel\'s The Avengers\", comes \"Marvel\'s Captain America: The Winter Soldier\", the global phenomenon that teams Captain America (Chris Evans) with the Black Widow (Scarlett Johansson) and a new ally, the Falcon (Anthony Mackie), in a fight for the future of mankind. Following the cataclysmic events in New York with the Avengers, Steve Rogers, aka Captain America, is living quietly in Washington, D.C. and trying to adjust to the modern world. But when a S.H.I.E.L.D. colleague comes under attack, Steve becomes embroiled in a web of intrigue that threatens to put the entire world at risk. As the conspiracy deepens and it's no longer clear whom to trust, Captain America, Black Widow and the Falcon must join forces to overthrow their insidious enemy's most mysterious and powerful weapon yet - the Winter Soldier."},
		{"name": "Star Wars: The Original Trilogy (Blu-ray + DVD) (Widescreen)", "id": "01, 07", "img":"k2-_ca8b770a-2fe1-4c31-9de8-80ea3bfd10ab.v2.jpg", "price":"34.96", "description":"\"Star Wars: A New Hope\": A long time ago in a galaxy far, far away....The Jedi Knights have been exterminated and the Empire rules the galaxy with an iron fist. A small group of Rebels have dared to fight back by stealing the secret plans to the Empire's mightiest weapon, the Death Star battle station. The Emperor's most trusted servant, Darth Vader, must find the plans, and locate the hidden Rebel base. Princess Leia, a captive Rebel leader, sends out a distress signal that is intercepted by a simple farm boy, Luke Skywalker. Seizing his destiny, Luke takes up the challenge to rescue the princess and help the Rebellion overthrow the Empire, along with such unforgettable allies as the wise Obi-Wan Kenobi, the cocky Han Solo, the loyal Chewbacca, and the droids R2-D2 and C-3PO. \"The Empire Strikes Back\": It is a dark time for the Rebellion. After a devastating attack on their ice base on the frozen planet of Hoth, the Rebels are scattered by Imperial pursuit. Luke Skywalker seeks out the mysterious Jedi Master Yoda in the swamps of Dagobah, while Han Solo and Princess Leia outrun the Imperial fleet on the beautiful Cloud City of Bespin. In an attempt to convert Luke to the dark side, the evil Darth Vader lures young Skywalker into a trap. In the midst of a fierce lightsaber duel with the Sith Lord, Luke faces a terrible truth about the Skywalker legacy. \"Return of the Jedi\": In the spectacular final chapter of the \"Star Wars\" saga, Luke Skywalker and Princess Leia must travel to Tatooine to free Han Solo by infiltrating the wretched stronghold of Jabba the Hutt, the galaxy's most loathsome gangster. Reunited, the Rebels team up with tribes of Ewoks to combat the Imperial forces on the forest moon of Endor. Meanwhile the Emperor and Darth Vader conspire to turn Luke to the dark side, and young Skywalker is determined to rekindle the spirit of the Jedi within his father. The Galactic Civil War culminates in the ultimate showdown, as the Rebel forces gather to attack the seemingly defenseless and incomplete second Death Star in the battle that will determine the fate of the galaxy."}
    ]
};

var json_computer = {
	"category": "Computer",
	"category_id": "02",
    "product_list": [
        {"name": "Monster M7 7\" Tablet 16GB Bonus 4\' microUSB Cable", "id": "02, 01", "img":"Review-Tablet-Monster-M7.jpg", "price":"59.99", "description":"Monster has engineered the finest in mobile computing. The Monster M7 Tablet has the sleek look and quality craftsmanship that you have come to expect from Monster. Now, this is being brought to you at an incredible price. You can email, surf the Internet, read eBooks, view photos, play games, listen to music and watch HD video. With Google Play you can access thousands of applications with plenty of games, social media, and productivity tools to meet your needs. The MonsterÂ® M7 Tablet looks as cool as it works. Enjoy doing more with the Monster M7 Tablet."},
        {"name": "Apple iPad Air 2 Choose(16GB,64GB,128GB) Wi-Fi Bonus Justin Case", "id": "02, 02", "img":"iPad-Air-2-Colors-silver.jpeg", "price":"499.99", "description":"Apple iPad Air 2 Choose(16GB,64GB,128GB) Wi-Fi Bonus Justin Case Apple iPad Air 2 Choose(16GB,64GB,128GB) Wi-Fi Bonus Justin Case"},
    ]
};

var json_food = {
	"category": "Food",
	"category_id": "03",
    "product_list": [
        {"name": "Ferrero Rocher: Chocolates Fine Hazelnut, 5.3 oz", "id": "03, 01", "img":"k2-_e8cf5564-2376-48fe-81c9-3ba1ad28d316.v2.jpg", "price":"3.98", "description":"Ferrero Rocher: Chocolates Fine Hazelnut is a delicious treat for almost any occasion. With fine hazelnut, this chocolate and confection candy will delight friends and family. The hazelnut chocolate will also help satisfy a chocolate lover's craving. Since the 1940s, Ferrero has delighted consumers with premium, one-of-a-kind, quality confections. Share a 5.3-oz box of Ferrero Rocher: Chocolates Fine Hazelnut today."},
    ]
};

var json_shop_list = {
	"total":"62.88",
	"shop_list": [
		{"order":"01", "name":"Big Hero 6 (Blu-ray + DVD + Digital HD) (Widescreen)", "id":"01, 01", "price":"18.96", "quantity":"1"},
		{"order":"02", "name":"Marvel: Guardians Of The Galaxy (Blu-ray) (Widescreen)", "id":"01, 03", "price":"21.96", "quantity":"2"}
	]
};

// compile the template on-the-fly
var tmpl_menu = Handlebars.compile(document.getElementById('tmpl-menu').innerHTML);

// bind the data with template, put result back
document.getElementById('menu').innerHTML = tmpl_menu(json_menu);

var tmpl_shop_list = Handlebars.compile(document.getElementById('tmpl-shop_list').innerHTML);
document.getElementById('shop_list').innerHTML = tmpl_shop_list(json_shop_list);

function toProductList(id){
	var json_product = {};
	var tmpl_product_list = Handlebars.compile(document.getElementById('tmpl-product_list').innerHTML);
	if (id == '01'){		
		json_product = json_movies_tv;
	} else if (id == '02'){
		json_product = json_computer;
	} else if (id == '03'){
		json_product = json_food;
	}
	document.getElementById('content').innerHTML = tmpl_product_list(json_product);
}

function toProductDetail(category_id, id){
	var json_product_detail = {};
	var json_product = {};
	if (category_id == '01'){
		json_product = json_movies_tv;
	} else if (category_id == '02'){
		json_product = json_computer;
	} else if (category_id == '03'){
		json_product = json_food;
	}
	json_product_detail = {
	"category": json_product.category,
	"category_id": json_product.category_id,
	"name": json_product.product_list[id-1].name, 
	"img":json_product.product_list[id-1].img, 
	"price":json_product.product_list[id-1].price, 
	"description":json_product.product_list[id-1].description
	};
	
	var tmpl_product_detail = Handlebars.compile(document.getElementById('tmpl-product_detail').innerHTML);
	document.getElementById('content').innerHTML = tmpl_product_detail(json_product_detail);
}

function toHome(){
	document.getElementById('content').innerHTML = '';
}